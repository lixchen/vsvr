<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>test</title>
<style>
html,body{
width:100%;
height: 100%;
overflow: hidden;
}
* {
box-sizing: border-box;
}
#motl {
width: 0;
height: 0;
visibility: hidden;
position: absolute;
left: 0;
top: 0;
border: 4px solid #333;
background-color: transparent;
z-index: 500;
}
#box1,
#box2 {
width:300px;
height: 500px;
border: 2px solid #e00;
position: absolute;
top: 0;
left: 0;
background-color: #fff;
}
#box2 {
left: 100px;
}
</style>
</head>
<body>
 <div id="motl"></div>
 <div id="box1">box1</div>
<script>

var disx = 0;
var disy = 0;

var h = box1.offsetHeight;
var w = box1.offsetWidth;

box1.onmousedown = function(event){
this.style['z-index'] = 100;
disx = event.clientX - box1.offsetLeft;
disy = event.clientY - box1.offsetTop;

document.addEventListener('mousemove',move, false);
document.addEventListener('mouseup',up, false);
}

function move(event){
motl.style.height = h + 'px';
motl.style.width = w + 'px';
motl.style.visibility = 'visible';
motl.style.left = event.clientX - disx + 'px';
motl.style.top = event.clientY - disy + 'px';

if(event.clientX <= 0) {
motl.style.height = document.documentElement.clientHeight + 'px';
motl.style.width = document.documentElement.clientWidth/2+'px';
motl.style.left = 0;
motl.style.top = 0;
}

if(event.clientX >= document.documentElement.clientWidth-1) {
motl.style.height = document.documentElement.clientHeight + 'px';
motl.style.width = document.documentElement.clientWidth/2+'px';
motl.style.left = document.documentElement.clientWidth/2+'px';
motl.style.top = 0;
}
console.log(event.clientX);
if(event.clientY <= 0) {
motl.style.height = document.documentElement.clientHeight + 'px';
motl.style.width = document.documentElement.clientWidth+'px';
motl.style.left = 0;
motl.style.top = 0;
}
window.getSelection().removeAllRanges();
}

function up() {
box1.style.left = motl.offsetLeft + 'px';
box1.style.top = motl.offsetTop + 'px';
box1.style.width = motl.offsetWidth + 'px';
box1.style.height = motl.offsetHeight + 'px';
motl.style.visibility = 'hidden';
document.removeEventListener('mousemove',move, false);
document.removeEventListener('mouseup',up, false);
}


</script>
</body>
</html>
